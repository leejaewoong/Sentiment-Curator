# Sentiment-Curator 요구사항 명세서

## 1. 프로젝트 개요
**프로젝트명:** Sentiment-Curator
**목적:** 온라인 상의 방대한 유저 동향(게시글, 댓글 등)을 수집하고, AI를 통해 사용자의 의도에 부합하는 정보만을 선별하여 Slack으로 전달함으로써 효율적인 정보 습득을 돕습니다.

## 2. 핵심 기능 요구사항

### 2.1 데이터 수집 (Crawling)
- **실행 방식:**
  - **수동 실행:** 사용자가 원할 때 즉시 실행.
  - **주기적 실행:** 사용자가 지정한 시간(Schedule)에 맞춰 자동 실행.
- **대상:** 사용자가 지정한 웹 주소(URL)의 하위 페이지.
- **범위:** 실행 시점 기준, 최근 {n}시간 내에 생성된 콘텐츠.
- **수집 항목:**
  - 텍스트 (본문, 제목)
  - 이미지 URL
  - 댓글 (가능한 경우)
  - 원본 링크

### 2.2 데이터 저장
- 수집된 비정형 데이터를 구조화된 객체 배열 형태로 데이터베이스에 저장.
- 추후 분석 및 이력 관리를 위한 스키마 설계.

### 2.3 AI 분석 및 필터링
- **엔진:** AI API (LLM) 활용.
- **프로세스:**
  - 수집된 모든 객체의 내용을 분석.
  - 사용자가 입력한 '프롬프트(의도)'와 대조.
  - 가장 적합한 {n}개의 글을 선별.

### 2.4 알림 (Messaging)
- **채널:** 사용자가 지정한 Slack 채널.
- **내용:** 선별된 글의 **요약**과 **원본 링크**만 제공.
- **확장성:** 메시지 스레드를 통한 추가 워크플로우(예: 요약 저장, 팀 공유 등) 트리거 가능 구조.

### 2.5 웹 관리자 인터페이스 (Dashboard)
- **설정 관리:**
  - 크롤링 대상 URL, 수집 주기(Schedule) 설정.
  - 필터링 프롬프트 및 결과 개수 설정.
  - Slack 연동 설정.
- **모니터링 및 분석:**
  - **전송 이력 목록:** Slack으로 전달된 게시글 목록, 각 글에 달린 이모지 반응 및 스레드 내용/개수 표시.
  - **트렌드 분석:** 일별 이모지 및 스레드 수 추이 그래프.
  - **인사이트:** 반응(이모지/스레드)이 가장 많은 **Top 10 게시글** 하이라이트.
- **UI 컨셉 (Code-Like Interface):**
  - **메뉴 구조:**
    - **Home:** 메인 랜딩, 로그인/마이페이지 역할 (추후 구현). `README.md` 프리뷰 스타일.
    - **Configuration:** 설정 화면 (IDE 에디터 스타일).
    - **Dashboard:** 모니터링 및 분석 화면 (VS Code 패널 스타일).
      - **상단:** 트렌드 그래프 및 주요 지표.
      - **하단 (Split View):**
        - **좌측:** 날짜별 전송된 게시글 제목 목록 (Explorer/List 스타일).
        - **우측:** 선택된 게시글의 상세 내용, 링크, 이모지/스레드 반응 (Preview/Detail 스타일).
  - **디자인:** 전체적으로 어두운 테마의 IDE(VS Code 등) 룩앤필 유지.
  - 설정값 입력은 변수 할당이나 JSON 객체 수정처럼 보이도록 구성.
  - 가이드와 힌트는 **주석(Comment)** 형태로 제공.

### 2.6 피드백 및 자가 학습 (Feedback Loop)
- **피드백 수집:**
  - Slack 메시지에 대한 이모지 반응(예: 👍/👎)을 수집하여 사용자 선호도 데이터 축적.
- **Few-Shot Prompting 적용:**
  - **적용 범위:** 크롤링 단계가 아닌, **AI 필터링 단계**에만 적용.
  - 축적된 긍정/부정 피드백 데이터를 기반으로, 다음 **필터링** 시 AI에게 "사용자가 선호하는 예시"와 "기피하는 예시"를 동적으로 제공(In-Context Learning).
  - 별도의 모델 파인튜닝 없이 사용자 취향에 맞게 선별 정확도 지속 향상.

## 3. 시스템 아키텍처 (개략)
1. **Scheduler/Trigger:** 주기적 또는 수동 실행.
2. **Crawler:** 타겟 웹사이트 탐색 및 데이터 추출.
3. **Database:** Raw Data 및 Processed Data 저장.
4. **AI Processor:** LLM API 연동 및 필터링 로직 수행.
5. **Notifier:** Slack API 연동 및 메시지 발송.
6. **Web Frontend:** 설정 및 상태 모니터링 대시보드.

## 4. 확장성 고려사항
- **Slack Workflow:** Slack 메시지 스레드 이벤트를 수신하여 2차 액션(예: "이거 스크랩해줘" 댓글 시 Notion 저장 등)을 수행할 수 있도록 Event Subscription 기반 구조 고려.
